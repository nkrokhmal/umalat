{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.accordion {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 18px;
  transition: 0.4s;
}

.active, .accordion:hover {
  background-color: #ccc;
}

.ul>li
{
    margin: 5px;
    font-size: 14px;
}

.panel {
  padding: 0 18px;
  background-color: white;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
}
</style>
</head>



<div class="col-md-12 col-sm-12 col-xs-12" style="margin-bottom: 50px;">
    <header>
    <h1>Правила составления расписания</h1>
  </header>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion" style="font-size: 18px;">Общее</button>
    <div class="panel">
        <ul class="ul">
            <li> Процесс сыроизготовления происходит в несколько этапов: термизатор, сыроизготовитель, дренатор, плавление, фасовка. </li>
            <li> Есть 2 линии: линия воды (линия для производства сыра типа "моцарелла в воде") и линия пицца-чиз (линия для производства соленого сыра). </li>
  </ul>

    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion" style="font-size: 18px;">Термизатор</button>
    <div class="panel">
        <ul class="ul">
            <li> Термизатор не может одновременно работать на нескольких варках. </li>
            <li> Время термизации задается в <a href="{{ url_for('main.get_general_params')}}"> общих параметрах</a>. </li>
            <li> Термизатор периодически нужно мыть по следующим правилам:
                <ul>
                    <li> В периоды простоя от часа до 1.5 часов требуется короткая мойка.</li>
                    <li> В периоды простоя более 1.5 часов требуется полная мойка. </li>
                    <li> Если термизатор работает без мойки больше 12 часов - требуется короткая мойка. </li>
                    <li> После последнего использования термизатора в данный день требуется полная мойка. </li>
                </ul>
            </li>
     <li> Время короткой и полной мойки термизатора задается в <a href="{{ url_for('main.get_general_params')}}"> общих параметрах</a>. </li>
        </ul>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Сыроизготовители </button>
    <div class="panel">
        <ul class="ul">
            <li> На каждой линии установлено по 2 сыроизготовителя. </li>
            <li> Время начала работы сыроизготовителей для линий воды и пицца-чиз задается в <a href="{{ url_for('main.get_general_params')}}"> общих параметрах</a>. </li>
            <li> <a href="{{ url_for('main.get_boiling')}}"> Параметры </a> каждой варки определяются процентом жирности смеси (2.7%, 3.3%, 3.6% итд),
                наличием лактозы и типом заквасок (альче, сакко итд).
            </li>
            <li> Объем одной варки может быть 6, 7 или 8 тонн. </li>
            <li> Количество получаемого сыра на 1 тонну молока составляет 1т для линии воды и 850кг для линии пицца-чиз.</li>
            <li> Каждая варка состоит из 4 этапов: внесение закваски, схватка, резка/обсушка и слив в дренатор.
                Время каждого из этапов можно настроить в <a href="{{ url_for('main.get_boiling')}}"> параметрах варок</a>.
            </li>

        </ul>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Дренатор </button>
    <div class="panel">
        <ul class="ul">
            <li> Дренатор необходимо стремиться освобождать сразу после процесса чеддеризации. В случае линии пицца-чиз простой недопустим. </li>
            <li> Время чеддеризации составляет для разных линий задается в <a href="{{ url_for('main.get_general_params')}}"> общих параметрах</a>. </li>
            <li>Дренатор освобождается для плавления не сразу, а постепенно (частями). </li>
            <li>Всего есть 8 дренаторов (4 на линии воды и 4 на линии пицца-чиз). </li>

        </ul>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Плавление </button>
    <div class="panel">
        <ul class="ul">
            <li> Для каждого типа варки определяются <a href="{{ url_for('main.get_boiling')}}"> параметры </a> плавления.
                К ним относятся время подачи и вымешивания, скорость плавления, время охлаждения и время посолки.
            </li>
            <li> В случае, когда скорость плавления меньше скорости упаковки, время плавления подгоняется под упаковку. (TODO: уточнить, может ли такой сценарий происходить в теории на линии воды (на линии пицца-чиз точно может)) </li>
            <li> Скорость охлаждения зависит напрямую от форм фактора. </li>
            <li> Процессы плавления/формования между разными варками не должны пересекаться по времени.</li>
            <li> Во время остановок процесса плавления-охлаждения сыр будет накапливается. Подобных пауз следует избегать,
                иначе если его долго не фасовать - он будет теплым. </li>
        </ul>
    </div>
</div>

<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Фасовка </button>
    <div class="panel">
        <ul class="ul">
            <li> Время смены настроек фасовальщика между сырами с одним граммажом составляет 5 минут, с разным - 25 минут. </li>
            <li> Скорость фасовки <a href="{{ url_for('main.get_sku')}}"> задается </a> для каждого SKU</li>
            <li> Фасовка на линии пицца-чиз не должна быть медленней производства сыра (иначе сыр будет пересаливаться). </li>

        </ul>
    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Линии </button>
    <div class="panel">
        <ul class="ul">
            <li> На линию воды может работать только 2 водяных сыроизготовителя.
                По особым дням 3 сыроизготовителя может работать на линии пицца-чиз.
            </li>
        </ul>
    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> SKU </button>
    <div class="panel">
        <ul class="ul">
            <li> Для каждого SKU определяются <a href="{{ url_for('main.get_sku')}}">параметры</a>, такие как
                типа варки, форм фактор и тд. </li>
            <li> В первую очередь необходимо изготавливать безлактозную продукцию. </li>
            <li> У всех SKU есть свой срок годности. Сыр можно продавать минимум с 80% сроком хранения. </li>
        </ul>
    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Особенности работы в разные дни недели </button>
    <div class="panel">
        <ul class="ul">
            <li> Завод не работает по понедельникам и четвергам. </li>
            <li> В воскресенье и среду требуется закрывать все запросы (потому что следующие дни - выходные). </li>
            <li>Во вторник, среду, субботу и воскресенье производятся сыры на обоих линиях. В пятницу - производятся только сыр на линии пицца-чиз, причем самые эффективные позиции - те, на которых можно использовать сразу три сыроизготовителя (например, не ставим палочки - они медленно фасуются)</li>
        </ul>
    </div>
</div>
<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Порядок варок </button>
    <div class="panel">
        <ul class="ul">
            <li> Вода
                <ul>
                    <li> В самом начале идут безлактозные варки (3.3 альче).</li>
                    <li> Порядок варок определяется размером форм фактора. Вначале идет Фиор ди Латте, затем Чильеджина. </li>
                    <li> Затем в безлактозную варку добавляются (при необходимости) SKU с типом варки 3.3 альче, затем 3.3 сакко. </li>
                    <li> Глобальный порядок после безлактозной варки такой  фдл 3.3 сакко, фдл 3.6 альче, члд 3.6 альче, 3.3 сакко. </li>
                </ul>
            </li>
            <li> Соль
                <ul>
                    <li> Вначале всегда идут палочки. </li>
                    <li> Порядок варок формируется исходя из размера форм фактора плавления. </li>
                    <li> Группы sku при варках с одинаковым название форм фактора должны идти блоками (нехорошо, если в варке Сулугуни, Моцарелл, Сулугуни). </li>
                    <li> Безлактозные варки должны идети сразу после большой мойки термизатора. </li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<div class="col-md-12 col-sm-12 col-xs-12">
    <button class="accordion"> Разное </button>
    <div class="panel">
        <ul class="ul">
            <li> Моцарелла уна-гранде упаковывается в другом цеху. Время перевозки сыра в другой цех занимает 10 минут. (TODO: вынести в параметры?) За счет того, что данный сыр фасуют в другом цеху, можно делать без накладку перенастройку фасовальщика.  </li>
            <li> Безлактозная моцарелла дороже лактозной (дополнительно требует галактазы), но ее можно использовать и в лактозных сырах (однако, это нужно согласовывать).  </li>
            <li> Счет варок ведется с первого рабочего дня каждого месяца. </li>
            <li> В дни, когда производится сыр на обоих линиях - стремимся сначала произвести весь сыр на линии воды, а потом полностью перейти на линию пицца-чиз.
        </ul>
    </div>
</div>




<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    }
  });
}
</script>

{% endblock %}